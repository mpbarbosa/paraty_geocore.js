# Prompt Log

**Timestamp:** 2026-02-27T23:29:58.146Z
**Persona:** test_engineer
**Model:** gpt-4.1

## Prompt

```
You are a senior test engineer. Generate a complete, runnable test file for the source file below.

**Source file**: `src/core/errors.ts`
**Language / framework**: javascript

**Requirements**:
- Output ONLY the test file content inside a single fenced code block (```ts ... ```)
- Cover: happy paths, edge cases, and error scenarios
- Use the standard test framework for javascript (e.g. Jest for JS/TS, pytest for Python)
- Use descriptive test names
- Do NOT include explanations outside the code block

```ts
/**
 * Custom error classes for paraty_geocore.js.
 *
 * @module core/errors
 * @since 0.10.0-alpha
 */

/**
 * Thrown when a `GeoPosition` is constructed with an invalid argument.
 *
 * @example
 * try {
 *   const pos = new GeoPosition(42 as any);
 * } catch (e) {
 *   if (e instanceof GeoPositionError) {
 *     console.error(e.message); // "GeoPosition: position must be an object"
 *   }
 * }
 */
export class GeoPositionError extends Error {
	constructor(message: string) {
		super(message);
		this.name = 'GeoPositionError';
		// Maintains proper prototype chain in transpiled ES5 output.
		Object.setPrototypeOf(this, new.target.prototype);
	}
}

```

Now generate the test file:
```

## Response

```
```ts
// src/core/errors.test.ts
import { GeoPositionError } from './errors';

describe('GeoPositionError', () => {
  it('should be instance of Error', () => {
    const err = new GeoPositionError('Invalid position');
    expect(err).toBeInstanceOf(Error);
    expect(err).toBeInstanceOf(GeoPositionError);
  });

  it('should set the correct name', () => {
    const err = new GeoPositionError('Test error');
    expect(err.name).toBe('GeoPositionError');
  });

  it('should set the correct message', () => {
    const err = new GeoPositionError('GeoPosition: position must be an object');
    expect(err.message).toBe('GeoPosition: position must be an object');
  });

  it('should maintain prototype chain', () => {
    const err = new GeoPositionError('Chain test');
    expect(Object.getPrototypeOf(err)).toBe(GeoPositionError.prototype);
  });

  it('should be catchable as GeoPositionError', () => {
    try {
      throw new GeoPositionError('Catch test');
    } catch (e) {
      expect(e).toBeInstanceOf(GeoPositionError);
      expect((e as GeoPositionError).message).toBe('Catch test');
    }
  });

  it('should allow custom properties', () => {
    const err = new GeoPositionError('Custom');
    (err as any).code = 123;
    expect((err as any).code).toBe(123);
  });
});
```
```